<!doctype html>
<html lang="pt-BR" class="dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Luna â€“ Supervisor WhatsApp</title>
  <link rel="stylesheet" href="styles.css"/>
  <script defer src="config.js"></script>
  <script defer src="app.js"></script>
  <style>.hidden{display:none!important}</style>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;600;700&family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>

  <!-- LOGIN -->
  <main id="login-view" class="login">
    <div class="login-card">
      <div class="login-header">
        <!-- Substituindo emoji por SVG customizado da lua -->
        <div class="login-icon">
          <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="moonGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#84cc16;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#15803d;stop-opacity:1" />
              </linearGradient>
              <filter id="glow">
                <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                <feMerge> 
                  <feMergeNode in="coloredBlur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>
            <circle cx="32" cy="32" r="28" fill="url(#moonGradient)" filter="url(#glow)" opacity="0.9"/>
            <path d="M20 32C20 20.954 28.954 12 40 12C36.686 12 33.686 13.343 31.515 15.515C27.172 19.858 25 25.858 25 32C25 38.142 27.172 44.142 31.515 48.485C33.686 50.657 36.686 52 40 52C28.954 52 20 43.046 20 32Z" fill="#0f172a" opacity="0.3"/>
            <circle cx="26" cy="24" r="2" fill="#84cc16" opacity="0.8"/>
            <circle cx="38" cy="20" r="1.5" fill="#a3e635" opacity="0.6"/>
            <circle cx="42" cy="28" r="1" fill="#84cc16" opacity="0.7"/>
          </svg>
        </div>
        <h1>Luna</h1>
        <p class="login-sub">Supervisor WhatsApp Profissional</p>
      </div>
      <div class="login-form">
        <div class="form-group">
          <label for="token">Token da InstÃ¢ncia</label>
          <input id="token" class="inp" placeholder="Cole seu token UAZAPI aqui" />
        </div>
        <button id="btn-login" class="btn btn-primary">
          <span>Entrar no Sistema</span>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </button>
        <div id="msg" class="msg-err"></div>
      </div>
    </div>
  </main>

  <!-- LOADING -->
  <section id="loading-view" class="loading hidden">
    <div class="loading-container">
      <!-- Substituindo emoji por SVG customizado da lua no loading -->
      <div class="loading-icon">
        <svg width="80" height="80" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="moonGradientLoading" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#84cc16;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#15803d;stop-opacity:1" />
            </linearGradient>
            <filter id="glowLoading">
              <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
              <feMerge> 
                <feMergeNode in="coloredBlur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          <circle cx="32" cy="32" r="28" fill="url(#moonGradientLoading)" filter="url(#glowLoading)" opacity="0.9"/>
          <path d="M20 32C20 20.954 28.954 12 40 12C36.686 12 33.686 13.343 31.515 15.515C27.172 19.858 25 25.858 25 32C25 38.142 27.172 44.142 31.515 48.485C33.686 50.657 36.686 52 40 52C28.954 52 20 43.046 20 32Z" fill="#0f172a" opacity="0.3"/>
          <circle cx="26" cy="24" r="2" fill="#84cc16" opacity="0.8"/>
          <circle cx="38" cy="20" r="1.5" fill="#a3e635" opacity="0.6"/>
          <circle cx="42" cy="28" r="1" fill="#84cc16" opacity="0.7"/>
        </svg>
      </div>
      <div class="loading-spinner"></div>
      <h2>Carregando Sistema</h2>
      <p>Preparando suas conversas...</p>
      <div class="loading-progress">
        <div class="progress-bar">
          <div class="progress-fill"></div>
        </div>
        <span class="progress-text">Conectando...</span>
      </div>
    </div>
  </section>

  <!-- APP -->
  <section id="app-view" class="app hidden">
    <header class="topbar">
      <div class="brand">
        <!-- Substituindo emoji por SVG customizado da lua no header -->
        <div class="brand-icon">
          <svg width="32" height="32" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="moonGradientHeader" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#84cc16;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#15803d;stop-opacity:1" />
              </linearGradient>
              <filter id="glowHeader">
                <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                <feMerge> 
                  <feMergeNode in="coloredBlur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>
            <circle cx="32" cy="32" r="28" fill="url(#moonGradientHeader)" filter="url(#glowHeader)" opacity="0.9"/>
            <path d="M20 32C20 20.954 28.954 12 40 12C36.686 12 33.686 13.343 31.515 15.515C27.172 19.858 25 25.858 25 32C25 38.142 27.172 44.142 31.515 48.485C33.686 50.657 36.686 52 40 52C28.954 52 20 43.046 20 32Z" fill="#0f172a" opacity="0.3"/>
            <circle cx="26" cy="24" r="2" fill="#84cc16" opacity="0.8"/>
            <circle cx="38" cy="20" r="1.5" fill="#a3e635" opacity="0.6"/>
            <circle cx="42" cy="28" r="1" fill="#84cc16" opacity="0.7"/>
          </svg>
        </div>
        <div class="brand-text">
          <span class="brand-name">Luna</span>
          <small id="profile">Supervisor WhatsApp</small>
        </div>
      </div>
      <div class="topbar-actions">
        <button id="btn-refresh" class="btn btn-icon" title="Atualizar">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
            <path d="M21 3v5h-5"/>
            <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
            <path d="M3 21v-5h5"/>
          </svg>
        </button>
        <button id="btn-logout" class="btn btn-secondary">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
            <polyline points="16,17 21,12 16,7"/>
            <line x1="21" y1="12" x2="9" y2="12"/>
          </svg>
          Sair
        </button>
      </div>
    </header>

    <div class="shell">
      <aside class="sidebar">
        <div class="sidebar-head">
          <h2>Conversas</h2>
          <div class="sidebar-stats">
            <span class="stats-badge">Ativo</span>
          </div>
        </div>
        <div id="chat-list" class="chat-list"></div>
      </aside>

      <main class="main">
        <div class="chatbar">
          <button id="btn-back-mobile" class="btn btn-icon back">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
          </button>
          <div class="chat-info">
            <div id="chat-header" class="chat-title">Selecione uma conversa</div>
            <div class="chat-status">Escolha um chat para comeÃ§ar</div>
          </div>
        </div>
        <div id="messages" class="messages">
          <div class="empty-state">
            <div class="empty-icon">ðŸ’¬</div>
            <h3>Nenhuma conversa selecionada</h3>
            <p>Escolha uma conversa da lista para visualizar as mensagens</p>
          </div>
        </div>
        <div class="send">
          <div class="send-group">
            <input id="send-number" class="inp inp-compact" placeholder="NÃºmero (55319...)" />
            <input id="send-text" class="inp inp-main" placeholder="Digite sua mensagem..." />
            <button id="btn-send" class="btn btn-primary btn-send">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
              </svg>
            </button>
          </div>
        </div>
      </main>
    </div>
  </section>

</body>
</html>
