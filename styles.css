/* ========= DESIGN TOKENS ========= */
:root{
  --bg:#0f172a;--card:#1e293b;--card-light:#334155;--surface:#475569;
  --text:#f8fafc;--text-muted:#cbd5e1;--text-subtle:#94a3b8;
  --primary:#15803d;--primary-light:#16a34a;--accent:#84cc16;--accent-light:#a3e635;
  --success:#10b981;--warning:#f59e0b;--error:#ef4444;--info:#3b82f6;
  --border:#334155;--border-light:#475569;
  --shadow:0 4px 6px -1px rgb(0 0 0 / .1),0 2px 4px -2px rgb(0 0 0 / .1);
  --shadow-lg:0 10px 15px -3px rgb(0 0 0 / .1),0 4px 6px -4px rgb(0 0 0 / .1);
  --font-primary:"Work Sans",system-ui,-apple-system,sans-serif;
  --font-secondary:"Open Sans",system-ui,-apple-system,sans-serif;
  --radius:12px;--radius-sm:8px;--radius-lg:16px;--hover:#334155;

  /* layout vars (mudam com os modos) */
  --rail:220px;            /* largura do menu lateral */
  --list:380px;            /* largura da lista de conversas */
}

/* ========= BASE ========= */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:var(--font-secondary)}
body{background:var(--bg);color:var(--text);font-size:14px;line-height:1.5;overflow:hidden;
  -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}

/* ========= LOGIN (igual ao seu, abreviado) ========= */
.login{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;background:linear-gradient(135deg,var(--bg) 0%,#1e293b 100%)}
.login-card{width:min(420px,92vw);background:var(--card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:28px 32px 24px;box-shadow:var(--shadow-lg);backdrop-filter:blur(10px)}
.login-header{text-align:center;margin-bottom:18px}
.login-logo img{width:320px;max-width:100%;filter:drop-shadow(0 0 18px rgba(132,204,22,.35))}
.login-sub{color:var(--text-muted)}

/* ========= FORM + BUTTONS ========= */
.inp{background:var(--card-light);color:var(--text);border:1px solid var(--border);border-radius:var(--radius);padding:14px 16px}
.inp:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(21,128,61,.1);background:var(--surface)}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 20px;border:1px solid var(--border);border-radius:var(--radius);background:var(--card-light);color:var(--text);font-family:var(--font-primary);font-weight:600;cursor:pointer;transition:.2s}
.btn:hover{background:var(--surface);transform:translateY(-1px)}
.btn-primary{background:linear-gradient(135deg,var(--primary) 0%,var(--primary-light) 100%);border-color:var(--primary);color:#fff;box-shadow:0 2px 4px rgba(21,128,61,.2)}
.btn-primary:hover{background:linear-gradient(135deg,var(--primary-light) 0%,var(--accent) 100%);box-shadow:0 4px 8px rgba(21,128,61,.3)}
.btn-secondary{background:var(--card);border-color:var(--border-light)}
.btn-icon{padding:10px;min-width:40px}

/* ========= APP LAYOUT ========= */
.app{height:100vh;display:flex;flex-direction:column}
.topbar{background:var(--card);border-bottom:1px solid var(--border);padding:12px 16px;display:flex;align-items:center;justify-content:space-between;box-shadow:var(--shadow);z-index:10;height:64px}
.brand{display:flex;align-items:center;gap:10px}
.brand-logo{width:90px;height:auto;max-height:48px;object-fit:contain;margin-top:-2px}
.brand small{color:var(--text-subtle);font-size:12px}

/* GRID: rail + (lista) + conte√∫do */
.shell{flex:1;display:grid;grid-template-columns:var(--rail) var(--list) 1fr;min-height:0;overflow:hidden}

/* ========= NAV RAIL ========= */
.nav-rail{background:var(--card);border-right:1px solid var(--border);padding:12px;display:flex;flex-direction:column;gap:6px}
.menu-title{padding:6px 8px;color:var(--text-subtle);font-size:11px;font-weight:700;letter-spacing:.06em;text-transform:uppercase;opacity:.85}
.menu-item,.rail-toggle{display:flex;align-items:center;gap:12px;padding:12px 14px;background:transparent;border:1px solid transparent;border-radius:var(--radius);color:var(--text-muted);font-weight:600;cursor:pointer;transition:.2s;text-align:left;width:100%}
.menu-item:hover,.rail-toggle:hover{background:var(--hover);color:var(--text)}
.menu-item.active{background:linear-gradient(135deg,var(--primary) 0%,var(--primary-light) 100%);color:#fff;box-shadow:0 2px 6px rgba(21,128,61,.25)}
.menu-item svg,.rail-toggle svg{flex-shrink:0}

/* rail recolhido */
body.rail-collapsed{--rail:72px}
body.rail-collapsed .nav-rail{align-items:center}
body.rail-collapsed .nav-rail .label{display:none}
body.rail-collapsed .rail-toggle{justify-content:center}

/* ========= SIDEBAR (lista de chats) ========= */
.sidebar{background:var(--card);border-right:1px solid var(--border);display:flex;flex-direction:column;overflow:hidden}
.sidebar-head{padding:20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;background:var(--card-light)}
.sidebar-head h2{margin:0;font-family:var(--font-primary);font-size:18px}
.chat-list{flex:1;overflow-y:auto;padding:8px}

/* ========= MAIN CHAT ========= */
.main{display:flex;flex-direction:column;overflow:hidden;background:var(--bg)}
.chatbar{background:var(--card);border-bottom:1px solid var(--border);padding:12px 20px;display:flex;align-items:center;gap:16px;box-shadow:var(--shadow)}
.messages{flex:1;padding:20px;overflow-y:auto}

/* ========= BILLING VIEW ========= */
.billing-view{padding:24px;overflow-y:auto;background:var(--bg)}
.billing-view.hidden{display:none!important}
.billing-header{margin-bottom:32px}
.billing-header h2{margin:0 0 8px 0;font-family:var(--font-primary);font-size:28px;font-weight:700}
.billing-content{display:flex;flex-direction:column;gap:32px;max-width:600px}
.billing-plan,.billing-status{background:var(--card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:24px;box-shadow:var(--shadow)}
.plan-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.plan-price{font-size:32px;font-weight:700;color:var(--primary)}
.status-content{display:flex;flex-direction:column;gap:12px}
.status-item{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--border)}
.status-item:last-child{border-bottom:none}

/* ========= MODOS ========= */
/* Modo CHAT: rail + sidebar + main; billing escondido */
body.mode-chat .billing-view{display:none!important}

/* Modo BILLING: rail + main (billing); sidebar e chat escondidos */
body.mode-billing .shell{grid-template-columns:var(--rail) 1fr}
body.mode-billing .sidebar{display:none}
body.mode-billing .chatbar,
body.mode-billing #messages{display:none}
body.mode-billing #billing-view{display:block}

/* ========= MOBILE ========= */
@media (max-width:1023px){
  .shell{grid-template-columns:1fr}
  .nav-rail{display:none}
  .sidebar{display:none}
  body.is-mobile-list .sidebar{display:flex}
  body.is-mobile-list .main{display:none}
  body.is-mobile-chat .sidebar{display:none}
  body.is-mobile-chat .main{display:flex}
  .topbar{padding:12px 16px}
}

/* pequenas */
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.hidden{display:none!important}
